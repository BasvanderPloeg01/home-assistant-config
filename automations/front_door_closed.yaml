#
# Warn whenever the front door is closing
#
# Useful to indicate to an otherwise oblivious showering partner that the front
# door has closed.
#
# Todo: map door sensor state values to binary values.
#
# @see /lights/lifx.yaml
#
- id: front_door_closed
  alias: Front door CLOSED
  trigger:
    # The front door sensor senses closure.
    - platform: state
      entity_id: sensor.aeotec_zw120_door_window_sensor_gen5_access_control
      from: '22'
      to: '23'

  action:
    # Flash the shower light, in case one didn't hear the door closing.
    - service: light.lifx_effect_pulse
      data:
        entity_id:
          - light.shower
        mode: blink
        color_name: purple
        brightness: 120
        period: 1
        cycles: 1
