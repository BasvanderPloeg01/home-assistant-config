#
# Automations.
#
automation.cct:
  icon: mdi:white-balance-auto
automation.check_door_left_open:
  icon: mdi:door-open
automation.check_mold_conditions:
  icon: mdi:biohazard
automation.check_update_availability:
  icon: mdi:cloud-upload
automation.go_to_sleep:
  icon: mdi:weather-night
automation.wake_up:
  icon: mdi:weather-sunny


#
# Binary sensors.
#
binary_sensor.flic_80e4da737711:
  friendly_name: Flic blue


#
# Cameras.
#
camera.environment_canada_rain:
  friendly_name: Rain
camera.environment_canada_snow:
  friendly_name: Snow
camera.noaa_geocolor:
  friendly_name: GeoColor
camera.noaa_water_vapour:
  friendly_name: Water Vapour


#
# Device trackers.
#
device_tracker.cellphone_her:
  friendly_name: !secret nickname_her
  icon: mdi:cellphone-iphone
device_tracker.cellphone_him:
  friendly_name: !secret nickname_him
  gravatar: !secret gravatar_him
  icon: mdi:cellphone-iphone


#
# Groups.
#
group.configuration_view:
  order: 5
group.default_view:
  order: 1
group.status_view:
  order: 4
group.switchboard_view:
  order: 2
group.weather_view:
  order: 3


#
# Input booleans.
#
input_boolean.low_mode:
  icon: mdi:weather-sunset-down
input_boolean.nap_mode:
  icon: mdi:sleep
input_boolean.night_mode:
  icon: mdi:weather-night
input_boolean.quiet_mode:
  icon: mdi:volume-mute
input_boolean.scene_mode:
  icon: mdi:looks


#
# Input selectors.
#
input_select.aurora_effect:
  icon: mdi:blank
input_select.bed_effect:
  friendly_name: Bed Effect
  icon: mdi:blank
input_select.ceiling_effect:
  friendly_name: Effect
  icon: mdi:blank


#
# Lights.
#
light.aurora:
  extra_data_template: >-
    return (attributes.brightness) ?
    attributes.effect + ' @ ' +
    Math.round(attributes.brightness / 255 * 100) + '%'
    : null;
  icon: mdi:vector-triangle
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false
  state_card_mode: break-slider
light.bedroom:
  extra_data_template: >-
      return (entities['sensor.ceiling_effect_loaded'].state) ?
      entities['sensor.ceiling_effect_loaded'].state : null;
  icon: mdi:led-strip
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false
light.countertop:
  extra_data_template: >-
      return (attributes.brightness) ?
      Math.round(650 - (attributes.color_temp - 154) * 380 / 346) * 10 + ' K @ ' +
      Math.round(attributes.brightness / 255 * 100) + '%'
      : null;
  icon: mdi:border-top
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false
light.island:
  extra_data_template: >-
      return (attributes.brightness) ?
      Math.round(650 - (attributes.color_temp - 154) * 380 / 346) * 10 + ' K @ ' +
      Math.round(attributes.brightness / 255 * 100) + '%'
      : null;
  icon: mdi:table-column
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false
light.headboard:
  extra_data_template: >-
      return (entities['sensor.bed_effect_loaded'].state) ?
      entities['sensor.bed_effect_loaded'].state : null;
  icon: mdi:gate
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false
light.lightpack:
  homebridge_hidden: false
  icon: mdi:television
light.lounge:
  extra_data_template: >-
      return (entities['sensor.ceiling_effect_loaded'].state) ?
      entities['sensor.ceiling_effect_loaded'].state : null;
  icon: mdi:led-strip
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false
light.microwave:
  extra_data_template: >-
      return (attributes.brightness) ?
      Math.round(650 - (attributes.color_temp - 154) * 380 / 346) * 10 + ' K @ ' +
      Math.round(attributes.brightness / 255 * 100) + '%'
      : null;
  icon: mdi:gradient
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false
light.middle:
  extra_data_template: >-
      return (entities['sensor.ceiling_effect_loaded'].state) ?
      entities['sensor.ceiling_effect_loaded'].state : null;
  icon: mdi:led-strip
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false
light.shower:
  extra_data_template: >-
    return (attributes.brightness) ?
    Math.round(1000000 / attributes.color_temp / 10) * 10 + ' K @ ' +
    Math.round(attributes.brightness / 255 * 100) + '%'
    : null;
  icon: mdi:spotlight
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false
  state_card_mode: break-slider
light.sink:
  extra_data_template: >-
      return (attributes.brightness) ?
      Math.round(650 - (attributes.color_temp - 154) * 380 / 346) * 10 + ' K @ ' +
      Math.round(attributes.brightness / 255 * 100) + '%'
      : null;
  icon: mdi:water-pump
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false
light.spotlight:
  extra_data_template: >-
    return (attributes.brightness) ?
    Math.round(1000000 / attributes.color_temp / 10) * 10 + ' K @ ' +
    Math.round(attributes.brightness / 255 * 100) + '%'
    : null;
  icon: mdi:spotlight-beam
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false
  state_card_mode: break-slider
light.underbed:
  extra_data_template: >-
      return (entities['sensor.bed_effect_loaded'].state) ?
      entities['sensor.bed_effect_loaded'].state : null;
  icon: mdi:hotel
  slider_theme:
    max: 255
    min: 0
    off_when_min: true
    pin: true
    report_when_not_changed: false

#
# Sensors.
#
sensor.average_humidity_friendly:
  extra_badge:
    entity_id: sensor.average_humidity
sensor.bedroom_humidity:
  homebridge_hidden: false
  icon: mdi:water-percent
  group:
    group.bedroom:
      friendly_name: Humidity
    group.humidity:
      friendly_name: Bedroom
      icon: mdi:hotel
sensor.bedroom_temperature:
  homebridge_hidden: false
  icon: mdi:thermometer
  group:
    group.bedroom:
      friendly_name: Temperature
    group.temperature:
      friendly_name: Bedroom
      icon: mdi:hotel
sensor.date_friendly:
  extra_data_template: ${entities['sensor.day'].state}

# Sensors: Outdoor Life Quality.
sensor.aqi_carbon_monoxide_friendly:
  extra_badge:
    entity_id: sensor.aqi_carbon_monoxide
sensor.aqi_friendly:
  extra_badge:
    entity_id: sensor.aqi
sensor.aqi_nitrogen_dioxide_friendly:
  extra_badge:
    entity_id: sensor.aqi_nitrogen_dioxide
sensor.aqi_ozone_friendly:
  extra_badge:
    entity_id: sensor.aqi_ozone
sensor.aqi_particles_friendly:
  extra_badge:
    entity_id: sensor.aqi_particles
sensor.uv_friendly:
  extra_badge:
    entity_id: sensor.uv

# Sensors: System.
sensor.cpu_used:
  friendly_name: CPU Load
  icon: mdi:chip
  extra_data_template: >-
    return
    parseFloat(entities['sensor.average_load_1m'].state).toFixed(2) + ' ' +
    parseFloat(entities['sensor.average_load_5m'].state).toFixed(2) + ' ' +
    parseFloat(entities['sensor.average_load_15m'].state).toFixed(2) + ' ' +
    '(' + entities['sensor.cpu_cores'].state + ' cores)';
sensor.database_size:
  icon: mdi:database
sensor.disk_used_percent:
  extra_data_template: >-
    return
    Math.round(parseFloat(entities['sensor.disk_free_home'].state)) + ' ' +
    entities['sensor.disk_free_home'].attributes['unit_of_measurement'] +
    ' available';
sensor.ebox_download_before_offpeak:
  homebridge_hidden: false
  friendly_name: Downloads
sensor.ebox_upload_before_offpeak:
  homebridge_hidden: false
  friendly_name: Uploads
sensor.ebox_usage:
  homebridge_hidden: false
  friendly_name: Monthly usage
sensor.ipv4_address_eth0:
  friendly_name: Local IP Address
sensor.logfile_size:
  icon: mdi:history
sensor.ram_used_percent:
  extra_data_template: >-
    return
    Math.round(parseFloat(entities['sensor.ram_available'].state)) + ' ' +
    entities['sensor.ram_available'].attributes['unit_of_measurement'] +
    ' available';
sensor.speedtest_download:
  friendly_name: Downspeed
  icon: mdi:download-network
sensor.speedtest_ping:
  friendly_name: Ping
sensor.speedtest_upload:
  friendly_name: Upspeed
  icon: mdi:upload-network
sensor.uptime_os:
  icon: mdi:pi

# Sensors: Transit.
sensor.home_to_market_hour:
  icon: mdi:cart
  extra_badge:
    entity_id: sensor.home_to_market
sensor.home_to_market_2_hour:
  icon: mdi:blank
  friendly_name: Next
  extra_badge:
    entity_id: sensor.home_to_market_2_countdown
sensor.home_to_market_3_hour:
  icon: mdi:blank
  friendly_name: After
  extra_badge:
    entity_id: sensor.home_to_market_3_countdown
sensor.home_to_metro_hour:
  extra_badge:
    entity_id: sensor.home_to_metro
sensor.home_to_metro_2_hour:
  icon: mdi:blank
  friendly_name: Next
  extra_badge:
    entity_id: sensor.home_to_metro_2_countdown
sensor.home_to_metro_3_hour:
  icon: mdi:blank
  friendly_name: After
  extra_badge:
    entity_id: sensor.home_to_metro_3_countdown

# Sensors: Weather
sensor.dark_sky_daily_summary:
  friendly_name: Weekly Forecast
  extra_data_template: ${entities['sensor.dark_sky_daily_summary'].state}
  hide_control: true
sensor.dark_sky_hourly_summary:
  friendly_name: 24h Summary
sensor.dark_sky_summary:
  friendly_name: Summary
  extra_data_template: ${entities['sensor.dark_sky_minutely_summary'].state}
sensor.outside_temperature:
  extra_data_template: ${entities['sensor.feels_like'].state}
sensor.wind_speed:
  extra_badge:
    entity_id: sensor.wind_bearing_cardinal
  extra_data_template: ${entities['sensor.wind_scale_friendly'].state}


#
# Scenes.
#
scene.romantic:
  icon: mdi:heart
scene.shutdown:
  icon: mdi:power


#
# Scripts.
#
script.go_to_sleep:
  icon: mdi:weather-night
script.wake_up:
  icon: mdi:weather-sunny


#
# Switches.
#
switch.bedroom_fan:
  homebridge_hidden: false
  icon: mdi:fan
  group:
    group.bedroom:
      friendly_name: Fan
switch.bedside_light:
  homebridge_hidden: false
  icon: mdi:creation
switch.dehumidifier:
  homebridge_hidden: false
  icon: mdi:water-off
  confirm_controls_show_lock: true
switch.nightstand_light:
  homebridge_hidden: false
  icon: mdi:page-layout-body
switch.souvenirs_light:
  homebridge_hidden: false
  friendly_name: Souvenirs Light
  icon: mdi:trophy
switch.window_light:
  icon: mdi:creation
